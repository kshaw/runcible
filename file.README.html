<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1>Runcible</h1>

<p><a href="http://travis-ci.org/Katello/runcible"><img src="https://secure.travis-ci.org/Katello/runcible.png" alt="Build Status"></a></p>

<p>Exposing Pulp&#39;s juiciest parts. <a href="http://www.pulpproject.org/">http://www.pulpproject.org/</a></p>

<p>Latest Live Tested Version: <strong>pulp-server-2.0.6-1.noarch</strong></p>

<p>For in-depth class and method documentation: <a href="http://katello.github.com/runcible/">http://katello.github.com/runcible/</a></p>

<h2>Installation</h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre class="code ruby"><code><span class='rubyid_gem identifier id'>gem</span> <span class='string val'>'runcible'</span>
</code></pre>

<p>And then execute:</p>

<pre class="code ruby"><code>$ <span class='rubyid_bundle identifier id'>bundle</span>
</code></pre>

<p>Or install it yourself as:</p>

<pre class="code ruby"><code>$ <span class='rubyid_gem identifier id'>gem</span> <span class='rubyid_install identifier id'>install</span> <span class='rubyid_runcible identifier id'>runcible</span>
</code></pre>

<h2>Usage</h2>

<h3>Set Configuration</h3>

<p>The base configuration allows for the following to be set.</p>

<pre class="code ruby"><code><span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Base constant id'>Base</span><span class='dot token'>.</span><span class='rubyid_config identifier id'>config</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span> 
            <span class='symbol val'>:url</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
            <span class='symbol val'>:api_path</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
            <span class='symbol val'>:user</span>     <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
            <span class='symbol val'>:logger</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&quot;</span>
          <span class='rbrace token'>}</span>
</code></pre>

<p>Required Configuration</p>

<pre class="code ruby"><code><span class='symbol val'>:uri</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_The constant id'>The</span> <span class='rubyid_base identifier id'>base</span> <span class='rubyid_URI constant id'>URI</span> <span class='rubyid_of identifier id'>of</span> <span class='rubyid_the identifier id'>the</span> <span class='rubyid_Pulp constant id'>Pulp</span> <span class='rubyid_server identifier id'>server</span> <span class='lparen token'>(</span><span class='rubyid_default identifier id'>default</span><span class='colon op'>:</span> <span class='rubyid_https identifier id'>https</span><span class='symbol val'>:/</span><span class='regexp val'>/localhost)
:api_path =&gt; The API path of the Pulp server (default: pulp/</span><span class='rubyid_api identifier id'>api</span><span class='div op'>/</span><span class='rubyid_v2 identifier id'>v2</span><span class='div op'>/</span><span class='rparen token'>)</span>
<span class='symbol val'>:user</span>     <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_The constant id'>The</span> <span class='rubyid_Pulp constant id'>Pulp</span> <span class='rubyid_username identifier id'>username</span> <span class='rubyid_to identifier id'>to</span> <span class='rubyid_be identifier id'>be</span> <span class='rubyid_used identifier id'>used</span> <span class='rubyid_in in kw'>in</span> <span class='rubyid_authentication identifier id'>authentication</span>
<span class='symbol val'>:logger</span>   <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_The constant id'>The</span> <span class='rubyid_location identifier id'>location</span> <span class='rubyid_to identifier id'>to</span> <span class='rubyid_log identifier id'>log</span> <span class='rubyid_RestClient constant id'>RestClient</span> <span class='rubyid_calls identifier id'>calls</span> <span class='lparen token'>(</span><span class='rubyid_e identifier id'>e</span><span class='dot token'>.</span><span class='rubyid_g identifier id'>g</span><span class='dot token'>.</span> <span class='rubyid_stdout identifier id'>stdout</span><span class='rparen token'>)</span>
</code></pre>

<p>Authentication Options are either HTTP or Oauth:</p>

<pre class="code ruby"><code><span class='symbol val'>:http_auth</span>  <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:password</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>''</span><span class='rbrace token'>}</span>

<span class='symbol val'>:oauth</span>      <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrace token'>{</span><span class='symbol val'>:oauth_secret</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
                <span class='symbol val'>:oauth_key</span>    <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&quot;</span> <span class='rbrace token'>}</span>
</code></pre>

<p>For an example on parsing the Pulp server.conf and using values provided within for the configuration see the <a href="https://github.com/Katello/runcible/blob/master/test/integration/test_runner.rb">test_runner</a></p>

<h3>Make a Request</h3>

<p>Runcible provides two represntation&#39;s of Pulp entities to make API calls: <a href="https://github.com/Katello/runcible/tree/master/lib/runcible/resources">resources</a> and <a href="https://github.com/Katello/runcible/tree/master/lib/runcible/extensions">extensions</a></p>

<p>The best examples of how to use either the resources or extensions can be found within the <a href="https://github.com/Katello/runcible/tree/master/test/integration">tests</a></p>

<h4>Resources</h4>

<p>Resources are designed to be one-for-one with the Pulp API calls in terms of required parameters and naming of the calls.  For example, in order to create a repository, associate a Yum importer and a distributor:</p>

<pre class="code ruby"><code><span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Resources constant id'>Resources</span><span class='colon2 op'>::</span><span class='rubyid_Repository constant id'>Repository</span><span class='dot token'>.</span><span class='rubyid_create identifier id'>create</span><span class='lparen token'>(</span><span class='string val'>&quot;Repository_ID&quot;</span><span class='rparen token'>)</span>
<span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Resources constant id'>Resources</span><span class='colon2 op'>::</span><span class='rubyid_Repository constant id'>Repository</span><span class='dot token'>.</span><span class='rubyid_associate_importer identifier id'>associate_importer</span><span class='lparen token'>(</span><span class='string val'>&quot;Repository_ID&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;yum_importer&quot;</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Resources constant id'>Resources</span><span class='colon2 op'>::</span><span class='rubyid_Repository constant id'>Repository</span><span class='dot token'>.</span><span class='rubyid_associate_distributor identifier id'>associate_distributor</span><span class='lparen token'>(</span><span class='string val'>&quot;Repository_ID&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;yum_distributor&quot;</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='string val'>&quot;relative_url&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;/&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;http&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='comma token'>,</span> <span class='string val'>&quot;https&quot;</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
</code></pre>

<h4>Extensions</h4>

<p>Extensions are constructs around the Pulp API that make retrieving, accessing or creating certain data types easier.  For example, providing objects that represent the details of a yum importer or distributor, and providing functions to create a Repository with an importer and distributors in a single call.  The same three step process above using extensions is:</p>

<pre class="code ruby"><code><span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Extensions constant id'>Extensions</span><span class='colon2 op'>::</span><span class='rubyid_Repository constant id'>Repository</span><span class='dot token'>.</span><span class='rubyid_create_with_importer_and_distributors identifier id'>create_with_importer_and_distributors</span><span class='lparen token'>(</span><span class='string val'>&quot;Repository_ID&quot;</span><span class='comma token'>,</span> <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>'yum_importer'</span><span class='rbrace token'>}</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='string val'>'type_id'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'yum_distributor'</span><span class='comma token'>,</span> <span class='string val'>'id'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='string val'>'123'</span><span class='comma token'>,</span> <span class='string val'>'auto_publish'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='rubyid_true true kw'>true</span><span class='comma token'>,</span> <span class='string val'>'config'</span><span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='lbrace token'>{</span><span class='string val'>'relative_url'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'/'</span><span class='comma token'>,</span> <span class='string val'>'http'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='comma token'>,</span> <span class='string val'>'https'</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span><span class='rbrace token'>}</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
</code></pre>

<p>Alternatively, using distributor and importer objects:</p>

<pre class="code ruby"><code><span class='rubyid_distributors identifier id'>distributors</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Extensions constant id'>Extensions</span><span class='colon2 op'>::</span><span class='rubyid_YumDistributor constant id'>YumDistributor</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'/path'</span><span class='comma token'>,</span> <span class='rubyid_true true kw'>true</span><span class='comma token'>,</span> <span class='rubyid_true true kw'>true</span><span class='comma token'>,</span> <span class='symbol val'>:id</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>'123'</span><span class='rparen token'>)</span><span class='rbrack token'>]</span>
<span class='rubyid_importer identifier id'>importer</span> <span class='assign token'>=</span> <span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Extensions constant id'>Extensions</span><span class='colon2 op'>::</span><span class='rubyid_YumImporter constant id'>YumImporter</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rparen token'>)</span>
<span class='rubyid_Runcible constant id'>Runcible</span><span class='colon2 op'>::</span><span class='rubyid_Extensions constant id'>Extensions</span><span class='colon2 op'>::</span><span class='rubyid_Repository constant id'>Repository</span><span class='dot token'>.</span><span class='rubyid_create_with_importer_and_distributors identifier id'>create_with_importer_and_distributors</span><span class='lparen token'>(</span><span class='string val'>&quot;Repository_ID&quot;</span><span class='comma token'>,</span> <span class='rubyid_importer identifier id'>importer</span><span class='comma token'>,</span> <span class='rubyid_distributors identifier id'>distributors</span><span class='rparen token'>)</span>
</code></pre>

<h2>Testing</h2>

<p>To run all tests using recorded data, run:</p>

<pre class="code ruby"><code><span class='rubyid_rake identifier id'>rake</span> <span class='rubyid_test identifier id'>test</span><span class='symbol val'>:integration</span> <span class='rubyid_mode identifier id'>mode</span><span class='assign token'>=</span><span class='rubyid_none identifier id'>none</span>
</code></pre>

<p>To run all tests to record data:</p>

<pre class="code ruby"><code><span class='rubyid_rake identifier id'>rake</span> <span class='rubyid_test identifier id'>test</span><span class='symbol val'>:integration</span> <span class='rubyid_mode identifier id'>mode</span><span class='assign token'>=</span><span class='rubyid_live identifier id'>live</span>
</code></pre>

<p>To run a single test using recorded data, run:</p>

<pre class="code ruby"><code><span class='rubyid_rake identifier id'>rake</span> <span class='rubyid_test identifier id'>test</span><span class='symbol val'>:integration</span> <span class='rubyid_mode identifier id'>mode</span><span class='assign token'>=</span><span class='rubyid_none identifier id'>none</span> <span class='rubyid_test identifier id'>test</span><span class='assign token'>=</span><span class='rubyid_extensions identifier id'>extensions</span><span class='div op'>/</span><span class='rubyid_respository identifier id'>respository</span>
</code></pre>

<p>To run with  oauth, simply append the following to any commend:</p>

<pre class="code ruby"><code><span class='rubyid_auth_type identifier id'>auth_type</span><span class='assign token'>=</span><span class='rubyid_oauth identifier id'>oauth</span>
</code></pre>

<p>To see RestClient logs while testing:</p>

<pre class="code ruby"><code><span class='rubyid_logging identifier id'>logging</span><span class='assign token'>=</span><span class='rubyid_true true kw'>true</span>
</code></pre>

<h2>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am &#39;Added some feature&#39;</code>)</li>
<li>Ensure all tests are passing</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol>
</div></div>

    <div id="footer">
  Generated on Thu Jan 10 09:43:16 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.3 (ruby-1.8.7).
</div>

  </body>
</html>